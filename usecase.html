<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta property="og:title" content="Use-cases" />
<meta property="og:type" content="website" />
<meta property="og:url" content="usecase.html" />
<meta property="og:site_name" content="Meta Package Manager" />
<meta property="og:description" content="A collection of userâ€™s problems and how mpm solves them. Keep system up-to-date: A recent study shows that 70% of vulnerabilities lies in outdated libraries. One of the key habits of security profe..." />
<meta name="description" content="A collection of userâ€™s problems and how mpm solves them. Keep system up-to-date: A recent study shows that 70% of vulnerabilities lies in outdated libraries. One of the key habits of security profe..." />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="CLI parameters" href="cli-parameters.html" /><link rel="prev" title="Installation" href="install.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
        <title>Use-cases - Meta Package Manager</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     Meta Package Manager works fine, but its sole maintainer is distracted by life ğŸ˜¶â€ğŸŒ«ï¸.<br/>You can influence it with purchase of <strong><a class='reference external' href='https://github.com/sponsors/kdeldycke'>business support ğŸ¤ and sponsorship ğŸ«¶</a></strong>. 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Meta Package Manager</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo-square.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Use-cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli-parameters.html">CLI parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="bar-plugin.html">Xbar and SwiftBar plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="falsehoods.html">Falsehoods programmers believe about package managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmark</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contribution guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="meta_package_manager.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="meta_package_manager.managers.html">meta_package_manager.managers package</a></li>
<li class="toctree-l2"><a class="reference internal" href="meta_package_manager.tests.html">meta_package_manager.tests package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="py-modindex.html">Module Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="todolist.html">Todo-list</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/kdeldycke/meta-package-manager">GitHub Repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/sponsors/kdeldycke">Funding</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/kdeldycke/meta-package-manager/edit/main/docs/usecase.md" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="use-cases">
<h1>Use-cases<a class="headerlink" href="#use-cases" title="Permalink to this heading">#</a></h1>
<p>A collection of userâ€™s problems and how <code class="docutils literal notranslate"><span class="pre">mpm</span></code> solves them.</p>
<section id="keep-system-up-to-date">
<h2>Keep system up-to-date<a class="headerlink" href="#keep-system-up-to-date" title="Permalink to this heading">#</a></h2>
<p>A recent
<a class="reference external" href="https://developers.slashdot.org/story/20/05/23/2330244/open-source-security-report-finds-library-induced-flaws-in-70-of-applications">study shows that 70% of vulnerabilities lies in outdated libraries</a>.
One of the key habits of security professionals is to keep a system secure
by keeping all software up to date.</p>
<p><code class="docutils literal notranslate"><span class="pre">mpm</span></code> upgrade all packages from all managers with a one-liner CLI:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>upgrade<span class="w"> </span>--all
<span class="go">Updating all outdated packages from brew...</span>
<span class="go">==&gt; Upgrading 4 outdated packages:</span>
<span class="go">gnu-getopt 2.35.1 -&gt; 2.35.2</span>
<span class="go">rclone 1.51.0 -&gt; 1.52.0</span>
<span class="go">fd 8.1.0 -&gt; 8.1.1</span>
<span class="go">youtube-dl 2020.05.08 -&gt; 2020.05.29</span>
<span class="gp gp-VirtualEnv">(...)</span>
<span class="go">Updating all outdated packages from cask...</span>
<span class="go">==&gt; Upgrading 4 outdated packages:</span>
<span class="go">balenaetcher 1.5.89 -&gt; 1.5.94, libreoffice 6.4.3 -&gt; 6.4.4</span>
<span class="gp gp-VirtualEnv">(...)</span>
<span class="go">Updating all outdated packages from gem...</span>
<span class="go">Updating openssl</span>
<span class="gp gp-VirtualEnv">(...)</span>
<span class="go">Updating all outdated packages from npm...</span>
<span class="go">+ npm@6.14.5</span>
<span class="gp gp-VirtualEnv">(...)</span>
<span class="go">Updating all outdated packages from pip...</span>
<span class="go">Successfully installed dephell-argparse-0.1.3</span>
<span class="go">Successfully installed dephell-pythons-0.1.15</span>
</pre></div>
</div>
<p>This is the primary use case of <code class="docutils literal notranslate"><span class="pre">mpm</span></code> and the main reason I built it.</p>
</section>
<section id="solve-xkcd">
<h2>Solve XKCD<a class="headerlink" href="#solve-xkcd" title="Permalink to this heading">#</a></h2>
<p>I then wasted 6 years to implement <a class="reference external" href="https://xkcd.com/1654/">XKCD #1654 - <em>Universal Install Script</em></a>:</p>
<p><img alt="XKCD #1654 - Universal Install Script" src="http://imgs.xkcd.com/comics/universal_install_script.png" /></p>
<p>So that you can:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>--xkcd<span class="w"> </span>install<span class="w"> </span>markdown
<span class="go">Installation priority: pip &gt; brew &gt; npm &gt; dnf &gt; apt &gt; steamcmd</span>
<span class="go">warning: pip does not implement search operation.</span>
<span class="go">markdown existence unconfirmed, try to directly install it...</span>
<span class="go">Install markdown package with pip...</span>
<span class="gp gp-VirtualEnv">(...)</span>
</pre></div>
</div>
</section>
<section id="extra-features-for-your-package-managers">
<h2>Extra features for your package managers<a class="headerlink" href="#extra-features-for-your-package-managers" title="Permalink to this heading">#</a></h2>
<p>Package managers are not comparable. Some have advanced features other lacks. <code class="docutils literal notranslate"><span class="pre">mpm</span></code> is filling the
gap between managers and implement some of these missing features.</p>
<p>For instance,
<a class="reference external" href="https://github.com/pypa/pip/issues/4551"><code class="docutils literal notranslate"><span class="pre">pip</span></code> canâ€™t upgrade all outdated package</a>
with a single command. <code class="docutils literal notranslate"><span class="pre">mpm</span></code> adds that missing feature:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>--pip<span class="w"> </span>upgrade<span class="w"> </span>--all
<span class="go">Updating all outdated packages from pip...</span>
<span class="go">warning: pip doesn&#39;t seems to implement a full upgrade subcommand. Call</span>
<span class="go">single-package upgrade CLI one by one.</span>

<span class="go">Collecting boltons</span>
<span class="go">  Using cached boltons-20.1.0-py2.py3-none-any.whl (169 kB)</span>
<span class="go">Installing collected packages: boltons</span>
<span class="go">Successfully installed boltons-20.1.0</span>

<span class="go">Collecting graphviz</span>
<span class="go">  Using cached graphviz-0.14-py2.py3-none-any.whl (18 kB)</span>
<span class="go">Installing collected packages: graphviz</span>
<span class="go">Successfully installed graphviz-0.14</span>

<span class="go">Collecting tomlkit</span>
<span class="go">  Using cached tomlkit-0.6.0-py2.py3-none-any.whl (31 kB)</span>
<span class="go">Installing collected packages: tomlkit</span>
<span class="go">Successfully installed tomlkit-0.6.0</span>

<span class="go">Collecting urllib3</span>
<span class="go">  Using cached urllib3-1.25.9-py2.py3-none-any.whl (126 kB)</span>
<span class="go">Installing collected packages: urllib3</span>
<span class="go">Successfully installed urllib3-1.25.9</span>

<span class="go">Collecting zipp</span>
<span class="go">  Using cached zipp-3.1.0-py3-none-any.whl (4.9 kB)</span>
<span class="go">Installing collected packages: zipp</span>
<span class="go">Successfully installed zipp-3.1.0</span>
</pre></div>
</div>
<p>Another example is the modest <code class="docutils literal notranslate"><span class="pre">opkg</span></code> package manager, only used by a
confidential audience. It is a bare project with only the basic primitives
implemented (<code class="docutils literal notranslate"><span class="pre">update</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, â€¦). Thanks to <code class="docutils literal notranslate"><span class="pre">mpm</span></code> it gains a free <code class="docutils literal notranslate"><span class="pre">search</span></code>
feature.</p>
</section>
<section id="same-package-multiple-sources">
<h2>Same package, multiple sources<a class="headerlink" href="#same-package-multiple-sources" title="Permalink to this heading">#</a></h2>
<p>You just learned about a new cool app you did not known about (<code class="docutils literal notranslate"><span class="pre">broot</span></code> in this example).
You want to try it but donâ€™t known where to get it. Back to your terminal, you can search for it
across all package repositories:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>search<span class="w"> </span>broot<span class="w"> </span>--exact
<span class="go">â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®</span>
<span class="go">â”‚ Package ID â”‚ Name â”‚ Manager â”‚ Latest version â”‚</span>
<span class="go">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="go">â”‚ broot      â”‚      â”‚ brew    â”‚ 1.16.2         â”‚</span>
<span class="go">â”‚ broot      â”‚      â”‚ cargo   â”‚ 0.13.6         â”‚</span>
<span class="go">â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯</span>
<span class="go">2 packages total (brew: 1, pip: 1, cask: 0, gem: 0, mas: 0, npm: 0).</span>
</pre></div>
</div>
<p>Then choose your preferred package manager to install it:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>--brew<span class="w"> </span>install<span class="w"> </span>broot
<span class="go">Package manager order: brew</span>
<span class="go">Install broot package from brew...</span>
<span class="gp gp-VirtualEnv">(...)</span>
<span class="go">ğŸº  /usr/local/Cellar/broot/1.16.2: 8 files, 3.5MB</span>
</pre></div>
</div>
<p>Thanks to <code class="docutils literal notranslate"><span class="pre">mpm</span></code> we were able to identify the best source for
<code class="docutils literal notranslate"><span class="pre">broot</span></code> to get the latest version.</p>
</section>
<section id="deduplicate-packages">
<h2>Deduplicate packages<a class="headerlink" href="#deduplicate-packages" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">mpm</span></code> can list all the installed packages on your machine sharing the same ID:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>list<span class="w"> </span>--duplicates
<span class="go">â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®</span>
<span class="go">â”‚ Package ID â”‚ Name â”‚ Manager â”‚ Installed version â”‚</span>
<span class="go">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="go">â”‚ blah       â”‚      â”‚ cargo   â”‚ 0.0.0             â”‚</span>
<span class="go">â”‚ blah       â”‚      â”‚ gem     â”‚ 0.0.2             â”‚</span>
<span class="go">â”‚ blah       â”‚      â”‚ npm     â”‚ 5.2.1             â”‚</span>
<span class="go">â”‚ coverage   â”‚      â”‚ pip     â”‚ 6.4.1             â”‚</span>
<span class="go">â”‚ coverage   â”‚      â”‚ pipx    â”‚ 6.4.1             â”‚</span>
<span class="go">â”‚ six        â”‚      â”‚ brew    â”‚ 1.16.0_2          â”‚</span>
<span class="go">â”‚ six        â”‚      â”‚ pip     â”‚ 1.16.0            â”‚</span>
<span class="go">â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯</span>
<span class="go">7 packages total (pip: 2, brew: 1, cargo: 1, gem: 1, npm: 1, pipx: 1, cask: 0).</span>
</pre></div>
</div>
<p>Now you can easily remove all of them:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>remove<span class="w"> </span>blah
<span class="go">Remove blah with cargo, gem, npm</span>
<span class="gp gp-VirtualEnv">(...)</span>
<span class="go">Successfully uninstalled blah-0.0.0</span>
<span class="gp gp-VirtualEnv">(...)</span>
<span class="go">Successfully uninstalled blah-0.0.2</span>
<span class="gp gp-VirtualEnv">(...)</span>
<span class="go">Successfully uninstalled blah-5.2.1</span>
</pre></div>
</div>
<p>Or a target specific duplicates:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>--pip<span class="w"> </span>uninstall<span class="w"> </span>six
<span class="gp gp-VirtualEnv">(...)</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Add arguments to <code class="docutils literal notranslate"><span class="pre">installed</span></code> command, or an <code class="docutils literal notranslate"><span class="pre">--installed</span></code> boolean flag to <code class="docutils literal notranslate"><span class="pre">search</span></code> so we can reduce the searched packages to those installed.</p>
</div>
</section>
<section id="dump-installed-packages">
<h2>Dump installed packages<a class="headerlink" href="#dump-installed-packages" title="Permalink to this heading">#</a></h2>
<p>You maintain a repository of <code class="docutils literal notranslate"><span class="pre">dotfiles</span></code>. This helps you spawn up a highly
customized working environment in a couple of hours. New job? New machine?
Easy: run your dotfiles, get a coffe, come back with everything perfectly in
place to start an extremely productive hacking session. But maintaining
<code class="docutils literal notranslate"><span class="pre">dotfiles</span></code> is a pain.</p>
<p><code class="docutils literal notranslate"><span class="pre">mpm</span></code> allows you to dump the whole list of packages installed on your machine:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>snapshot<span class="w"> </span>packages.toml
<span class="go">Dump all installed packages into packages.toml</span>
<span class="go">Dumping packages from brew...</span>
<span class="go">Dumping packages from cask...</span>
<span class="go">Dumping packages from gem...</span>
<span class="go">Dumping packages from mas...</span>
<span class="go">Dumping packages from npm...</span>
<span class="go">Dumping packages from pip...</span>
<span class="go">1109 packages total (npm: 659, brew: 229, pip: 115, gem: 49, cask: 48, mas: 9).</span>
</pre></div>
</div>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat<span class="w"> </span>packages.toml
<span class="gp"># </span>Generated<span class="w"> </span>by<span class="w"> </span>mpm<span class="w"> </span><span class="m">4</span>.7.0.
<span class="gp"># </span>Timestamp:<span class="w"> </span><span class="m">2020</span>-05-29T11:15:29.539863.

<span class="go">[brew]</span>
<span class="go">ack = &quot;3.3.1&quot;</span>
<span class="go">adns = &quot;1.5.1&quot;</span>
<span class="go">aom = &quot;1.0.0&quot;</span>
<span class="go">apr = &quot;1.7.0&quot;</span>
<span class="go">apr-util = &quot;1.6.1_3&quot;</span>
<span class="go">arss = &quot;0.2.3&quot;</span>
<span class="gp gp-VirtualEnv">(...)</span>
</pre></div>
</div>
</section>
<section id="maintain-list-of-installed-packages">
<h2>Maintain list of installed packages<a class="headerlink" href="#maintain-list-of-installed-packages" title="Permalink to this heading">#</a></h2>
<p>To keep the list produced above up to date, you can resort to the <code class="docutils literal notranslate"><span class="pre">--update-version</span></code> option:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>snapshot<span class="w"> </span>--update-version<span class="w"> </span>packages.toml
<span class="gp gp-VirtualEnv">(...)</span>
</pre></div>
</div>
<p>And if your want to add the new packages you installed since your last snapshot, there is the <code class="docutils literal notranslate"><span class="pre">--merge</span></code> option for that:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>snapshot<span class="w"> </span>--merge<span class="w"> </span>packages.toml
<span class="gp gp-VirtualEnv">(...)</span>
</pre></div>
</div>
<p>Of course you can still call the backup</p>
</section>
<section id="switch-systems">
<h2>Switch systems<a class="headerlink" href="#switch-systems" title="Permalink to this heading">#</a></h2>
<p>You used to work on macOS. Now youâ€™d like to move to Linux. To reduce friction
during your migration, you can make an inventory of all your installed packages with <code class="docutils literal notranslate"><span class="pre">mpm</span></code>,
then reinstall them on your new distribution.</p>
<ol class="arabic">
<li><p>Backup a list of all installed packages on macOS:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>backup<span class="w"> </span>packages.toml
</pre></div>
</div>
</li>
<li><p>On your brand new Linux distribution, restore all packages with:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>restore<span class="w"> </span>packages.toml
</pre></div>
</div>
</li>
</ol>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Implement a best matchig strategy, across package managers of different kinds.</p>
</div>
</section>
<section id="speculative-use-cases">
<h2>Speculative use-cases<a class="headerlink" href="#speculative-use-cases" title="Permalink to this heading">#</a></h2>
<p>A list of ideas and concepts <code class="docutils literal notranslate"><span class="pre">mpm</span></code> could support in the future</p>
<section id="sbom-software-bill-of-materials">
<h3>SBOM: Software Bill of Materials<a class="headerlink" href="#sbom-software-bill-of-materials" title="Permalink to this heading">#</a></h3>
<div class="admonition-context admonition">
<p class="admonition-title">Context</p>
<p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Log4Shell">Log4Shell vulnerability</a> debacle was a wake-up call for the industry. This dependency was deeply embedded in the legacy stack of companies and administrations. They all had huge difficulty to identify its presence, writing custom detection scripts and scanning their software artifacts.</p>
<p>As a response to this crisis, <a class="reference external" href="https://en.wikipedia.org/wiki/Software_supply_chain">SBOM tools have now became a category of their own</a>. To the point that <a class="reference external" href="https://www.whitehouse.gov/briefing-room/presidential-actions/2021/05/12/executive-order-on-improving-the-nations-cybersecurity/">a US executive order has also been released</a> to modernize cybersecurity practices and enforce the production of SBOM to track the software supply chain.</p>
</div>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p><code class="docutils literal notranslate"><span class="pre">mpm</span></code> doesnâ€™t implement SBOM features yet. This work is tracked by <a class="reference external" href="https://github.com/kdeldycke/meta-package-manager/issues/936">#936</a>.</p>
</div>
<div class="tip admonition">
<p class="admonition-title">JSON &amp; CSV exports</p>
<p>In the mean time, you can export the list of installed packages in JSON:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>--output-format<span class="w"> </span>json<span class="w"> </span>installed<span class="w"> </span>&gt;<span class="w"> </span>installed_package.json
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;pip&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pip&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Pip&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;packages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;arrow&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;installed_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.2.3&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boltons&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;installed_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;21.0.0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;vscode&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vscode&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Visual Studio Code&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;packages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;charliermarsh.ruff&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;installed_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023.6.0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ExecutableBookProject.myst-highlight&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;installed_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.11.0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GitHub.copilot&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;installed_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.73.8685&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Or in CSV:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mpm<span class="w"> </span>--output-format<span class="w"> </span>csv<span class="w"> </span>installed<span class="w"> </span>&gt;<span class="w"> </span>installed_package.csv
</pre></div>
</div>
<div class="highlight-csv notranslate"><div class="highlight"><pre><span></span>Package ID,Name,Manager,Installed version
arrow,,pip,1.2.3
boltons,,pip,21.0.0
charliermarsh.ruff,,vscode,2023.6.0
ExecutableBookProject.myst-highlight,,vscode,0.11.0
GitHub.copilot,,vscode,1.73.8685
</pre></div>
</div>
<p>Thereâ€™s probably a tool somewhere that will allow you to transform these machine-readable exports to a proper SBOM file format.</p>
</div>
</section>
<section id="list-vulnerabilities">
<h3>List vulnerabilities<a class="headerlink" href="#list-vulnerabilities" title="Permalink to this heading">#</a></h3>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p><code class="docutils literal notranslate"><span class="pre">mpm</span></code> doesnâ€™t identify CVEs yet.</p>
<p>This feature might be solved with SBOM implementation, as I think there is some tools available around that can check an SBOM export and cross reference it with a CVE database.</p>
<p>Take a look at: https://security.googleblog.com/2023/04/announcing-depsdev-api-critical.html</p>
</div>
</section>
<section id="list-dependencies">
<h3>List dependencies<a class="headerlink" href="#list-dependencies" title="Permalink to this heading">#</a></h3>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p><code class="docutils literal notranslate"><span class="pre">mpm</span></code> doesnâ€™t collect dependencies yet. Once it does these dependencies can augment the SBOM export.</p>
</div>
</section>
<section id="get-rid-of-docker-for-lambda">
<h3>Get rid of Docker for lambda?<a class="headerlink" href="#get-rid-of-docker-for-lambda" title="Permalink to this heading">#</a></h3>
<p>Some developers have a hard-time reproducing environment for lambda execution
onto their local machine. Most of devs use Docker to abstract their runtime
requirements. But Docker might be too big for some people.</p>
<p><code class="docutils literal notranslate"><span class="pre">mpm</span></code> can be a lightweight alternative to Docker, to abstract the runtime
from their execution environment.</p>
</section>
<section id="support-and-fund-open-source">
<h3>Support and fund open-source?<a class="headerlink" href="#support-and-fund-open-source" title="Permalink to this heading">#</a></h3>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<p>One future development direction might be to add a way to inventory all
components your using on your system and track down their preferred funding
platform like <a class="reference external" href="https://github.com/sponsors">GitHub Sponsors</a>,
<a class="reference external" href="https://liberapay.com">Liberapay</a> or <a class="reference external" href="https://patreon.com">Patreon</a>. Then have
a way to fund all those.</p>
<p>Homebrew is already featuring
<a class="reference external" href="https://github.com/Homebrew/brew/pull/7900">some commands in that direction</a>.</p>
<p>This is being discussed at <a class="reference external" href="https://github.com/kdeldycke/meta-package-manager/issues/501">#501</a>.</p>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="cli-parameters.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">CLI parameters</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="install.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Installation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Kevin Deldycke and contributors
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2023-04-22</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Use-cases</a><ul>
<li><a class="reference internal" href="#keep-system-up-to-date">Keep system up-to-date</a></li>
<li><a class="reference internal" href="#solve-xkcd">Solve XKCD</a></li>
<li><a class="reference internal" href="#extra-features-for-your-package-managers">Extra features for your package managers</a></li>
<li><a class="reference internal" href="#same-package-multiple-sources">Same package, multiple sources</a></li>
<li><a class="reference internal" href="#deduplicate-packages">Deduplicate packages</a></li>
<li><a class="reference internal" href="#dump-installed-packages">Dump installed packages</a></li>
<li><a class="reference internal" href="#maintain-list-of-installed-packages">Maintain list of installed packages</a></li>
<li><a class="reference internal" href="#switch-systems">Switch systems</a></li>
<li><a class="reference internal" href="#speculative-use-cases">Speculative use-cases</a><ul>
<li><a class="reference internal" href="#sbom-software-bill-of-materials">SBOM: Software Bill of Materials</a></li>
<li><a class="reference internal" href="#list-vulnerabilities">List vulnerabilities</a></li>
<li><a class="reference internal" href="#list-dependencies">List dependencies</a></li>
<li><a class="reference internal" href="#get-rid-of-docker-for-lambda">Get rid of Docker for lambda?</a></li>
<li><a class="reference internal" href="#support-and-fund-open-source">Support and fund open-source?</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/design-tabs.js"></script>
    <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    </body>
</html>